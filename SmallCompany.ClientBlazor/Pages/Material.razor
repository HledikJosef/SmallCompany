@page "/material"
@using SmallCompany.ServiceLayer;
@using ServiceLayer.ModelsBlazor;
@using System.Data;
@inject IPropertiesService propertiesService;
@inject IMaterialModelCreator materialModelCreator;

<PageTitle>Materiál-záznam</PageTitle>

<h1>Vytvoř nový model materiálu</h1>
<h5>Vyplň obecný název skupiny, krátký popis a zaškrtnutím přiřaď k materiálu vhodné vlastnosti.</h5>

<div class="table-responsive-sm">
<table class="table">
        <tbody>
            <tr>
                <td>
                    <input class="form-control" type="text" placeholder="Typ skupiny materiálů" @bind-value="@MaterialGroupName">
                </td>
                
            </tr>
            <tr>
                <td>
                    <input class="form-control" type="text" placeholder="Krátký popis" @bind-value="@MaterialDescription">
                </td>
                
            </tr>

            @foreach (var property in blazorProperties)
            {
                <tr>
                    <td>                        
                        <input class="form-check-input" type="checkbox" id="flexCheckDefault" @bind-value=property.IsValid>
                        <label class="form-check-label" for="flexCheckDefault">@property.PropertyName</label>                         
                        

                    </td>
                </tr>
            }
        </tbody>       
      
    
</table>
</div>


<button class="btn btn-primary" @onclick="AddMaterialRecord">Ulož záznam</button>

@code {
    public string MaterialGroupName = "";
    public string MaterialDescription = "";
    

    List<PropertiesBlazorModel> blazorProperties = new List<PropertiesBlazorModel>();


    protected override void OnInitialized()
    {
        blazorProperties = propertiesService.GetBlazorProperties();
    }

    private void AddMaterialRecord()
    {     
     

    }
}
